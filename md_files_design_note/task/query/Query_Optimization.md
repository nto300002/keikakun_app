âº ã‘ã„ã‹ãã‚“ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¯ã‚¨ãƒª - è©³ç´°ãƒœãƒˆãƒ«ãƒãƒƒã‚¯åˆ†æ                                                     
                                                                                                            
  ã‚³ãƒ¼ãƒ‰ã¨ãƒ¢ãƒ‡ãƒ«æ§‹é€ ã‚’åˆ†æã—ãŸçµæœã€æŒ‡æ‘˜ã•ã‚Œã¦ã„ã‚‹ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã®è©³ç´°ã‚’ä»¥ä¸‹ã«ã¾ã¨ã‚ã¾ã™ã€‚                    
                                                                                               
  ---                                                                                                       
  ğŸ”´ 1. ã‚¯ã‚¨ãƒªæ§‹é€ ã®è¤‡é›‘æ€§åˆ†æ                                                                            
                                                                                                            
  å•é¡Œã¨ãªã‚‹ç®‡æ‰€: get_filtered_summaries() ãƒ¡ã‚½ãƒƒãƒ‰                                                         
                                                                                                            
  # 58-171è¡Œç›®: 3é‡ã®ã‚µãƒ–ã‚¯ã‚¨ãƒª + è¤‡æ•°JOINæ§‹é€                                                               
                                                                                                            
  ã‚¯ã‚¨ãƒªæ§‹é€ ã®å†…è¨³:

  1ï¸âƒ£ ã‚µãƒ–ã‚¯ã‚¨ãƒª1: cycle_count_sq (71-78è¡Œç›®)
  - å„åˆ©ç”¨è€…ã®ã‚µã‚¤ã‚¯ãƒ«ç·æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
  - GROUP BY welfare_recipient_id ã§ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°
  - å•é¡Œç‚¹: å…¨åˆ©ç”¨è€…ã«å¯¾ã—ã¦é›†è¨ˆå‡¦ç†ãŒç™ºç”Ÿ

  2ï¸âƒ£ ã‚µãƒ–ã‚¯ã‚¨ãƒª2: latest_cycle_id_sq (81-89è¡Œç›®)
  - æœ€æ–°ã‚µã‚¤ã‚¯ãƒ«IDã‚’å–å¾—
  - WHERE is_latest_cycle = true + GROUP BY + MAX(id)
  - å•é¡Œç‚¹: is_latest_cycleã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ã‚ã‚‹ãŒã€GROUP BYã¨ã®çµ„ã¿åˆã‚ã›ã§éåŠ¹ç‡

  3ï¸âƒ£ ã‚µãƒ–ã‚¯ã‚¨ãƒª3: latest_status_subq (141-144è¡Œç›®)
  - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ™‚ã®ã¿ç”Ÿæˆ
  - WHERE is_latest_status = true ã§æœ€æ–°ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®step_typeã‚’å–å¾—
  - ğŸ”´ æœ€å¤§ã®å•é¡Œç‚¹: (is_latest_status, step_type) ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå­˜åœ¨ã—ãªã„

  4ï¸âƒ£ ãƒ¡ã‚¤ãƒ³ã‚¯ã‚¨ãƒª (92-171è¡Œç›®)
  - ä¸Šè¨˜3ã¤ã®ã‚µãƒ–ã‚¯ã‚¨ãƒªã‚’å…¨ã¦JOIN
  - WelfareRecipient â†’ OfficeWelfareRecipient â†’ å„ã‚µãƒ–ã‚¯ã‚¨ãƒª
  - ã•ã‚‰ã« selectinload ã§é–¢é€£ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ å–å¾—

  ---
  ğŸ”´ 2. ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä¸è¶³ã®è©³ç´°

  ç¾åœ¨ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹çŠ¶æ³ï¼ˆãƒ¢ãƒ‡ãƒ«å®šç¾©ã‚ˆã‚Šï¼‰

  SupportPlanStatus ãƒ†ãƒ¼ãƒ–ãƒ«:
  # support_plan_cycle.py: 60-83è¡Œç›®
  is_latest_status: Mapped[bool] = mapped_column(Boolean, default=True)
  step_type: Mapped[SupportPlanStep] = mapped_column(SQLAlchemyEnum(SupportPlanStep))
  is_test_data: Mapped[bool] = mapped_column(Boolean, default=False, nullable=False, index=True)

  æ—¢å­˜ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹:
  - is_test_data ã®ã¿æ˜ç¤ºçš„ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚ã‚Š
  - is_latest_status + step_type ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ æœªå®šç¾©

  OfficeWelfareRecipient ãƒ†ãƒ¼ãƒ–ãƒ«:
  # welfare_recipient.py: 76-89è¡Œç›®
  welfare_recipient_id: Mapped[uuid.UUID] = mapped_column(ForeignKey('welfare_recipients.id'))
  office_id: Mapped[uuid.UUID] = mapped_column(ForeignKey('offices.id'))

  æ—¢å­˜ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹:
  - å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã«ã‚ˆã‚‹å€‹åˆ¥ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ã¿ï¼ˆãŠãã‚‰ãï¼‰
  - (office_id, welfare_recipient_id) ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ æœªå®šç¾©

  ---
  ğŸ”´ 3. ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£å•é¡Œã®è©³ç´°åˆ†æ

  åˆ©ç”¨è€…æ•°ã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ã®è©¦ç®—
  åˆ©ç”¨è€…æ•°: 10äºº
  ã‚µãƒ–ã‚¯ã‚¨ãƒª1cycle_count_sq: 10è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª2latest_cycle_id_sq: 10è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª3latest_status_subq: 30è¡Œã‚¹ã‚­ãƒ£ãƒ³(1äºº3ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æƒ³å®š)
  åˆè¨ˆã‚¹ã‚­ãƒ£ãƒ³è¡Œæ•°ï¼ˆæ¨å®šï¼‰: 50è¡Œ
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  åˆ©ç”¨è€…æ•°: 50äºº
  ã‚µãƒ–ã‚¯ã‚¨ãƒª1cycle_count_sq: 50è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª2latest_cycle_id_sq: 50è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª3latest_status_subq: 150è¡Œã‚¹ã‚­ãƒ£ãƒ³
  åˆè¨ˆã‚¹ã‚­ãƒ£ãƒ³è¡Œæ•°ï¼ˆæ¨å®šï¼‰: 250è¡Œ
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  åˆ©ç”¨è€…æ•°: 100äºº
  ã‚µãƒ–ã‚¯ã‚¨ãƒª1cycle_count_sq: 100è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª2latest_cycle_id_sq: 100è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª3latest_status_subq: 300è¡Œã‚¹ã‚­ãƒ£ãƒ³
  åˆè¨ˆã‚¹ã‚­ãƒ£ãƒ³è¡Œæ•°ï¼ˆæ¨å®šï¼‰: 500è¡Œ
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  åˆ©ç”¨è€…æ•°: 500äºº
  ã‚µãƒ–ã‚¯ã‚¨ãƒª1cycle_count_sq: 500è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª2latest_cycle_id_sq: 500è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª3latest_status_subq: 1,500è¡Œã‚¹ã‚­ãƒ£ãƒ³
  åˆè¨ˆã‚¹ã‚­ãƒ£ãƒ³è¡Œæ•°ï¼ˆæ¨å®šï¼‰: 2,500è¡Œ
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  åˆ©ç”¨è€…æ•°: 1000äºº
  ã‚µãƒ–ã‚¯ã‚¨ãƒª1cycle_count_sq: 1,000è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª2latest_cycle_id_sq: 1,000è¡Œã‚¹ã‚­ãƒ£ãƒ³
  ã‚µãƒ–ã‚¯ã‚¨ãƒª3latest_status_subq: 3,000è¡Œã‚¹ã‚­ãƒ£ãƒ³
  åˆè¨ˆã‚¹ã‚­ãƒ£ãƒ³è¡Œæ•°ï¼ˆæ¨å®šï¼‰: 5,000è¡Œ
  ã•ã‚‰ã«æ‚ªåŒ–ã™ã‚‹è¦å› :

  1. selectinload() ã«ã‚ˆã‚‹è¿½åŠ ã‚¯ã‚¨ãƒª (108-112è¡Œç›®)
  .options(
      selectinload(SupportPlanCycle.statuses),  # â† N+1å•é¡Œã®å¯èƒ½æ€§
      selectinload(WelfareRecipient.support_plan_cycles).selectinload(SupportPlanCycle.statuses),
      selectinload(SupportPlanCycle.deliverables)
  )
    - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¾Œã®åˆ©ç”¨è€…æ•°ï¼ˆä¾‹: 20äººï¼‰ã«å¯¾ã—ã¦è¿½åŠ ã‚¯ã‚¨ãƒªãŒç™ºè¡Œã•ã‚Œã‚‹
    - æœ€æ‚ªã‚±ãƒ¼ã‚¹: 20äºº Ã— 3ã‚¯ã‚¨ãƒª = 60å›ã®è¿½åŠ DBå¾€å¾©
  2. æ¤œç´¢æ¡ä»¶ã®éåŠ¹ç‡æ€§ (115-124è¡Œç›®)
  # ILIKE ã«ã‚ˆã‚‹ãƒ•ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¹ã‚­ãƒ£ãƒ³
  WelfareRecipient.last_name.ilike(f"%{word}%")
    - å‰æ–¹ä¸€è‡´ãªã‚‰ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒåŠ¹ããŒã€éƒ¨åˆ†ä¸€è‡´ï¼ˆ%word%ï¼‰ã¯ ãƒ•ãƒ«ã‚¹ã‚­ãƒ£ãƒ³
    - è¤‡æ•°å˜èªæ¤œç´¢æ™‚ã¯ AND æ¡ä»¶ãŒé‡ãªã‚Šã€ã•ã‚‰ã«é…å»¶

  ---
  ğŸ”´ 4. ç‰¹ã«å•é¡Œã¨ãªã‚‹ã‚¯ã‚¨ãƒªãƒ‘ã‚¿ãƒ¼ãƒ³

  æœ€æ‚ªã‚±ãƒ¼ã‚¹: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ä½¿ç”¨æ™‚

  # 134-147è¡Œç›®: filters.get("status") ãŒæŒ‡å®šã•ã‚ŒãŸå ´åˆ
  latest_status_subq = select(
      SupportPlanStatus.plan_cycle_id,
      SupportPlanStatus.step_type.label("latest_step")
  ).where(SupportPlanStatus.is_latest_status == true()).subquery()

  stmt = stmt.join(latest_status_subq, SupportPlanCycle.id == latest_status_subq.c.plan_cycle_id)
  stmt = stmt.where(latest_status_subq.c.latest_step == status_enum)

  å•é¡Œã®è©³ç´°:

  1. is_latest_status = true ã§çµã‚Šè¾¼ã¿
  2. ãã®ä¸­ã‹ã‚‰ç‰¹å®šã® step_type ã§ã•ã‚‰ã«çµã‚Šè¾¼ã¿
  3. ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒãªã„ãŸã‚ã€support_plan_statuses ãƒ†ãƒ¼ãƒ–ãƒ«å…¨ä½“ã‚’ã‚·ãƒ¼ã‚±ãƒ³ã‚·ãƒ£ãƒ«ã‚¹ã‚­ãƒ£ãƒ³
  4. åˆ©ç”¨è€…ãŒå¢—ãˆã‚‹ã»ã©ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚‚ç·šå½¢å¢—åŠ ï¼ˆ1äººã‚ãŸã‚Šå¹³å‡3-5ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‰

  ã‚¯ã‚¨ãƒªå®Ÿè¡Œè¨ˆç”»ã®æ¨æ¸¬:
  Seq Scan on support_plan_statuses  (cost=0.00..5000.00 rows=500 width=...)
    Filter: (is_latest_status = true) AND (step_type = 'INTERVIEW')

  ---
  ğŸ”´ 5. get_summary_counts() ãƒ¡ã‚½ãƒƒãƒ‰ã®è¿½åŠ å•é¡Œ

  # 173-221è¡Œç›®: ã‚µãƒãƒªãƒ¼é›†è¨ˆãƒ¡ã‚½ãƒƒãƒ‰

  å•é¡Œç‚¹:

  1. 4ã¤ã®ç‹¬ç«‹ã—ãŸã‚¯ã‚¨ãƒªå®Ÿè¡Œ (195, 208-214è¡Œç›®)
    - total_recipients
    - overdue_count
    - upcoming_count
    - no_cycle_count
  2. å„ã‚¯ã‚¨ãƒªãŒå€‹åˆ¥ã«å®Ÿè¡Œã•ã‚Œã€DBå¾€å¾©ãŒ4å›ç™ºç”Ÿ
  3. å…¨ã¦ SupportPlanCycle.is_latest_cycle = True ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒã‚ã‚Œã°å•é¡Œãªã„ãŒã€è¤‡åˆæ¡ä»¶æ™‚ã«éåŠ¹ç‡

  ---
  ğŸ”´ 6. ææ¡ˆã•ã‚ŒãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®åŠ¹æœåˆ†æ

  ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹1: support_plan_statuses ãƒ†ãƒ¼ãƒ–ãƒ«

  CREATE INDEX idx_support_plan_statuses_latest_step
  ON support_plan_statuses(is_latest_status, step_type);

  åŠ¹æœ:
  - âœ… ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ä½¿ç”¨æ™‚ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚·ãƒ£ãƒ«ã‚¹ã‚­ãƒ£ãƒ³ã‚’ Index Scan ã«å¤‰æ›´
  - âœ… æ¨å®šã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¢ãƒƒãƒ—: 10-50å€ï¼ˆãƒ‡ãƒ¼ã‚¿é‡ã«ä¾å­˜ï¼‰
  - âœ… ç‰¹ã« filters.get("status") æŒ‡å®šæ™‚ã®141-147è¡Œç›®ãŒé«˜é€ŸåŒ–

  é©ç”¨ç®‡æ‰€:
  - get_filtered_summaries() ã® 141-147è¡Œç›®ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼‰

  ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹2: office_welfare_recipients ãƒ†ãƒ¼ãƒ–ãƒ«

  CREATE INDEX idx_office_welfare_recipients_composite
  ON office_welfare_recipients(office_id, welfare_recipient_id);

  åŠ¹æœ:
  - âœ… ãƒ¡ã‚¤ãƒ³ã‚¯ã‚¨ãƒªã® JOINæ€§èƒ½å‘ä¸Šï¼ˆ96è¡Œç›®ï¼‰
  - âœ… è¤‡æ•°äº‹æ¥­æ‰€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ™‚ï¼ˆoffice_id.in_(office_ids)ï¼‰ã®æ¤œç´¢é«˜é€ŸåŒ–
  - âœ… æ¨å®šã‚¹ãƒ”ãƒ¼ãƒ‰ã‚¢ãƒƒãƒ—: 3-10å€

  é©ç”¨ç®‡æ‰€:
  - get_filtered_summaries() ã® 96è¡Œç›®
  - get_summary_counts() ã® 192è¡Œç›®

  ---
  ğŸ”´ 7. ã•ã‚‰ãªã‚‹æœ€é©åŒ–ã®ä½™åœ°

  è¿½åŠ ã§æ¤œè¨ã™ã¹ãã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹:

  -- SupportPlanCycle ãƒ†ãƒ¼ãƒ–ãƒ«
  CREATE INDEX idx_support_plan_cycle_latest_renewal
  ON support_plan_cycles(welfare_recipient_id, is_latest_cycle, next_renewal_deadline);

  -- æ—¥ä»˜ç¯„å›²æ¤œç´¢ã®é«˜é€ŸåŒ–
  CREATE INDEX idx_support_plan_cycle_renewal_date
  ON support_plan_cycles(next_renewal_deadline) WHERE is_latest_cycle = true;

  -- WelfareRecipient ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆåå‰æ¤œç´¢ç”¨ï¼‰
  CREATE INDEX idx_welfare_recipient_name_gin
  ON welfare_recipients USING gin(
    (last_name || ' ' || first_name || ' ' ||
     last_name_furigana || ' ' || first_name_furigana) gin_trgm_ops
  );

  ã‚¯ã‚¨ãƒªæ§‹é€ ã®æ”¹å–„æ¡ˆ:

  1. ã‚µãƒ–ã‚¯ã‚¨ãƒªã®çµ±åˆ
    - 3ã¤ã®ã‚µãƒ–ã‚¯ã‚¨ãƒªã‚’1ã¤ã®CTEã«ã¾ã¨ã‚ã‚‹ã“ã¨ã§ã€ã‚¹ã‚­ãƒ£ãƒ³å›æ•°ã‚’å‰Šæ¸›
  2. Materialized View ã®æ¤œè¨
    - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã¯é »ç¹ã«å‚ç…§ã•ã‚Œã‚‹ãŒã€æ›´æ–°é »åº¦ã¯ä½ã„
    - 1æ—¥1å›ã®ãƒãƒƒãƒæ›´æ–°ã§ååˆ†ãªã‚‰ã€Materialized ViewãŒåŠ¹æœçš„
  3. ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å‰ã®ã‚«ã‚¦ãƒ³ãƒˆå‰Šæ¸›
    - cycle_count_sq ã¯ã‚½ãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ä¸ä½¿ç”¨æ™‚ã¯ä¸è¦
    - å¿…è¦ãªå ´åˆã®ã¿å‹•çš„ã«è¿½åŠ ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã«å¤‰æ›´

  ---
  ğŸ“Š ã¾ã¨ã‚: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®å„ªå…ˆé †ä½
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  å„ªå…ˆåº¦   â”‚                     å¯¾ç­–                     â”‚      åŠ¹æœ      â”‚ å®Ÿè£…ã‚³ã‚¹ãƒˆ â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ğŸ”´ æœ€å„ªå…ˆ â”‚ idx_support_plan_statuses_latest_step è¿½åŠ    â”‚ 10-50å€é«˜é€ŸåŒ–  â”‚ ä½         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ğŸ”´ æœ€å„ªå…ˆ â”‚ idx_office_welfare_recipients_composite è¿½åŠ  â”‚ 3-10å€é«˜é€ŸåŒ–   â”‚ ä½         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ğŸŸ¡ ä¸­å„ªå…ˆ â”‚ SupportPlanCycle ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ       â”‚ 2-5å€é«˜é€ŸåŒ–    â”‚ ä½         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ğŸŸ¡ ä¸­å„ªå…ˆ â”‚ å…¨æ–‡æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆpg_trgmï¼‰å°å…¥          â”‚ 5-20å€é«˜é€ŸåŒ–   â”‚ ä¸­         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ğŸŸ¢ ä½å„ªå…ˆ â”‚ ã‚µãƒ–ã‚¯ã‚¨ãƒªã®CTEåŒ–ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°            â”‚ 1.5-3å€é«˜é€ŸåŒ–  â”‚ é«˜         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ğŸŸ¢ ä½å„ªå…ˆ â”‚ Materialized View å°å…¥                       â”‚ 10-100å€é«˜é€ŸåŒ– â”‚ é«˜         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  çµè«–:
  ææ¡ˆã•ã‚ŒãŸ2ã¤ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ ã¯ å¿…é ˆ ã§ã™ã€‚ã“ã‚Œã ã‘ã§100äººè¦æ¨¡ã¾ã§ã¯ååˆ†ã«å¯¾å¿œã§ãã¾ã™ã€‚500äººè¶…ã‚’è¦‹æ®ãˆ
  ã‚‹å ´åˆã¯ã€è¿½åŠ ã®æœ€é©åŒ–æ–½ç­–ã‚‚æ¤œè¨ã™ã¹ãã§ã™ã€‚