# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–é©ç”¨å¯èƒ½æ€§ãƒ¬ãƒãƒ¼ãƒˆ

**èª¿æŸ»æ—¥**: 2025-12-10
**å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: keikakun_app

---

## ğŸ“Š ç¾çŠ¶åˆ†æã‚µãƒãƒªãƒ¼

### âœ… è‰¯å¥½ãªç‚¹ï¼ˆAlready Secureï¼‰

1. **Next.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå®‰å…¨**
   - ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³: `15.4.8`
   - CVE-2025-66478ã®ä¿®æ­£æ¸ˆã¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨
   - âœ… ç·Šæ€¥ãƒ‘ãƒƒãƒé©ç”¨ã¯ä¸è¦

2. **è„†å¼±æ€§ãŒæ¤œå‡ºã•ã‚Œãªã—**
   - `npm audit` å®Ÿè¡Œçµæœ: **0ä»¶ã®è„†å¼±æ€§**
   - ç·ä¾å­˜é–¢ä¿‚æ•°: 460ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
   - âœ… ç¾æ™‚ç‚¹ã§æ—¢çŸ¥ã®è„†å¼±æ€§ãªã—

3. **package-lock.jsonãŒå­˜åœ¨**
   - ç¢ºå®šçš„ãªãƒ“ãƒ«ãƒ‰ãŒå¯èƒ½
   - âœ… ä¾å­˜é–¢ä¿‚ã®ãƒ­ãƒƒã‚¯ãŒé©åˆ‡ã«ç®¡ç†ã•ã‚Œã¦ã„ã‚‹

4. **ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³æ”»æ’ƒã®ç—•è·¡ãªã—**
   - ãƒãƒ«ã‚¦ã‚§ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`setup_bun.js`, `bun_environment.js`ç­‰ï¼‰: æœªæ¤œå‡º
   - ä¸å¯©ãªGitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼: æœªæ¤œå‡º
   - âœ… éå»ã®æ”»æ’ƒã«ã‚ˆã‚‹è¢«å®³ãªã—

### âš ï¸ æ”¹å–„ãŒå¿…è¦ãªç‚¹ï¼ˆNeeds Improvementï¼‰

1. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šãŒæœªå®Ÿè£…**
   - `.npmrc` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„
   - `ignore-scripts` è¨­å®šãªã—
   - `lavamoat` è¨­å®šãªã—

2. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ã®è‡ªå‹•åŒ–ãªã—**
   - CI/CDã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãŒæœªçµ±åˆ
   - å®šæœŸçš„ãªè„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ãªã—
   - OSV-Scanneræœªå°å…¥

3. **DependabotãŒæœªè¨­å®š**
   - `.github/dependabot.yml` ãŒå­˜åœ¨ã—ãªã„
   - ä¾å­˜é–¢ä¿‚ã®è‡ªå‹•æ›´æ–°ãªã—

4. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãªã—**
   - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç”¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ã¿å­˜åœ¨
   - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã®è‡ªå‹•åŒ–ãªã—

---

## ğŸ“‹ ã‚¿ã‚¹ã‚¯é©ç”¨å¯èƒ½æ€§ãƒãƒˆãƒªã‚¯ã‚¹

### å„ªå…ˆåº¦: æœ€é«˜ï¼ˆå³åº§ã«å®Ÿæ–½ï¼‰

| ã‚¿ã‚¹ã‚¯ | é©ç”¨å¯èƒ½æ€§ | å„ªå…ˆåº¦ | å·¥æ•° | å‚™è€ƒ |
|--------|-----------|--------|------|------|
| **è¢«å®³ç¢ºèªãƒã‚§ãƒƒã‚¯** | âœ… å®Ÿæ–½æ¸ˆã¿ | - | - | èª¿æŸ»ã®çµæœã€å•é¡Œãªã— |
| **ç·Šæ€¥ãƒ‘ãƒƒãƒé©ç”¨** | âŒ ä¸è¦ | - | - | Next.js 15.4.8ã¯ä¿®æ­£æ¸ˆã¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
| **è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³** | âœ… å®Ÿæ–½æ¸ˆã¿ | - | - | ç¾æ™‚ç‚¹ã§è„†å¼±æ€§ãªã— |

### å„ªå…ˆåº¦: é«˜ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åŸºç›¤ã®æ§‹ç¯‰ï¼‰

| ã‚¿ã‚¹ã‚¯ | é©ç”¨å¯èƒ½æ€§ | å„ªå…ˆåº¦ | å·¥æ•° | å®Ÿè£…é›£æ˜“åº¦ |
|--------|-----------|--------|------|----------|
| **`.npmrc` ã®è¨­å®š** | âœ… å¯èƒ½ | é«˜ | 5åˆ† | ä½ |
| **ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ–¹å¼ã®å°å…¥** | âœ… å¯èƒ½ | é«˜ | 30åˆ† | ä¸­ |
| **OSV-Scannerã®å°å…¥** | âœ… å¯èƒ½ | é«˜ | 15åˆ† | ä½ |
| **package.jsonã®æ›´æ–°** | âœ… å¯èƒ½ | é«˜ | 15åˆ† | ä½ |
| **GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä½œæˆ** | âœ… å¯èƒ½ | é«˜ | 1æ™‚é–“ | ä¸­ |
| **CI/CDç’°å¢ƒã®æ”¹å–„** | âœ… å¯èƒ½ | é«˜ | 30åˆ† | ä½ |

### å„ªå…ˆåº¦: ä¸­ï¼ˆç¶™ç¶šçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç®¡ç†ï¼‰

| ã‚¿ã‚¹ã‚¯ | é©ç”¨å¯èƒ½æ€§ | å„ªå…ˆåº¦ | å·¥æ•° | å®Ÿè£…é›£æ˜“åº¦ |
|--------|-----------|--------|------|----------|
| **Dependabotã®å°å…¥** | âœ… å¯èƒ½ | ä¸­ | 30åˆ† | ä½ |
| **npm provenanceæ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–** | âš ï¸ æ¡ä»¶ä»˜ã | ä½ | - | ç¤¾å†…ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹æ™‚ã®ã¿å¿…è¦ |

### å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¿ã‚¹ã‚¯

| ã‚¿ã‚¹ã‚¯ | é©ç”¨å¯èƒ½æ€§ | å‚™è€ƒ |
|--------|-----------|------|
| **é€±æ¬¡ã‚¿ã‚¹ã‚¯** | âœ… å¯èƒ½ | CI/CDçµ±åˆã«ã‚ˆã‚Šè‡ªå‹•åŒ–æ¨å¥¨ |
| **æœˆæ¬¡ã‚¿ã‚¹ã‚¯** | âœ… å¯èƒ½ | æ‰‹å‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå¿…è¦ |
| **å››åŠæœŸã‚¿ã‚¹ã‚¯** | âœ… å¯èƒ½ | è¨ˆç”»çš„ãªå®Ÿæ–½ãŒå¿…è¦ |
| **å¹´æ¬¡ã‚¿ã‚¹ã‚¯** | âœ… å¯èƒ½ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ã¨ã—ã¦å®Ÿæ–½ |

---

## ğŸ¯ æ¨å¥¨å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### ãƒ•ã‚§ãƒ¼ã‚º1: åŸºæœ¬ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šï¼ˆå·¥æ•°: ç´„1æ™‚é–“ï¼‰

**ç›®çš„**: æœ€ä½é™ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã‚’å®Ÿè£…

#### 1.1 `.npmrc` ã®ä½œæˆã¨è¨­å®š
```bash
# k_frontãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Ÿæ–½
cd k_front
echo "ignore-scripts=true" >> .npmrc
git add .npmrc
```

**åŠ¹æœ**:
- ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œã‚’ç„¡åŠ¹åŒ–
- ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³æ”»æ’ƒã®ãƒªã‚¹ã‚¯ä½æ¸›

**ãƒªã‚¹ã‚¯**: ä½ï¼ˆä¸€éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã®å¯èƒ½æ€§ï¼‰

---

#### 1.2 `package.json` ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 

**è¿½åŠ å†…å®¹**:
```json
{
  "scripts": {
    "security-check": "npm audit --audit-level=high",
    "audit": "npm audit",
    "outdated-check": "npm outdated"
  }
}
```

**åŠ¹æœ**:
- æ‰‹å‹•ã§ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãŒå®¹æ˜“ã«
- é–‹ç™ºãƒãƒ¼ãƒ å…¨ä½“ã§ã®å®Ÿæ–½ãŒå¯èƒ½

**ãƒªã‚¹ã‚¯**: ãªã—

---

### ãƒ•ã‚§ãƒ¼ã‚º2: ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ–¹å¼ã®å°å…¥ï¼ˆå·¥æ•°: ç´„30åˆ†ï¼‰

**ç›®çš„**: å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œã‚’è¨±å¯

#### 2.1 @lavamoat/allow-scripts ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
cd k_front
npm install @lavamoat/allow-scripts --save-dev
```

#### 2.2 å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç‰¹å®š

ç¾åœ¨ã®ä¾å­˜é–¢ä¿‚ã‚’åˆ†æã—ã€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç‰¹å®š:
```bash
npm ls --all | grep scripts
```

**æƒ³å®šã•ã‚Œã‚‹è¨±å¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**:
- `sharp`: ç”»åƒå‡¦ç†ï¼ˆNext.jsã§ä½¿ç”¨ã•ã‚Œã‚‹å¯èƒ½æ€§ï¼‰
- `esbuild`: Next.jsã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
- ãã®ä»–ã€ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

#### 2.3 package.jsonã«è¨­å®šè¿½åŠ 

```json
{
  "lavamoat": {
    "allowScripts": {
      "@next/swc": true,
      "sharp": true,
      "esbuild": true
    }
  },
  "scripts": {
    "postinstall": "allow-scripts"
  }
}
```

**åŠ¹æœ**:
- æ˜ç¤ºçš„ã«è¨±å¯ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œå¯èƒ½
- æœªçŸ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚ˆã‚‹æ‚ªæ„ã®ã‚ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œã‚’é˜²æ­¢

**ãƒªã‚¹ã‚¯**: ä¸­ï¼ˆåˆå›è¨­å®šæ™‚ã«ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã®å¯èƒ½æ€§ï¼‰

---

### ãƒ•ã‚§ãƒ¼ã‚º3: CI/CDã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ§‹ç¯‰ï¼ˆå·¥æ•°: ç´„1æ™‚é–“ï¼‰

**ç›®çš„**: è‡ªå‹•åŒ–ã•ã‚ŒãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã®å®Ÿè£…

#### 3.1 OSV-Scannerã®ãƒ­ãƒ¼ã‚«ãƒ«å°å…¥ï¼ˆé–‹ç™ºè€…å‘ã‘ï¼‰

```bash
# macOS
brew install osv-scanner

# å®Ÿè¡Œãƒ†ã‚¹ãƒˆ
cd k_front
osv-scanner --lockfile package-lock.json
```

#### 3.2 GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä½œæˆ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `.github/workflows/security-check.yml`

```yaml
name: Security Check

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]
  schedule:
    - cron: '0 9 * * 1'  # æ¯é€±æœˆæ›œæ—¥9æ™‚ (JST 18æ™‚)

jobs:
  security-frontend:
    name: Frontend Security Scan
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
          cache-dependency-path: k_front/package-lock.json

      - name: Install dependencies
        working-directory: k_front
        run: npm ci

      - name: Run npm audit
        working-directory: k_front
        run: npm audit --audit-level=high
        continue-on-error: true

      - name: Run OSV-Scanner
        uses: google/osv-scanner-action@v1
        with:
          scan-args: --lockfile k_front/package-lock.json
        continue-on-error: true

      - name: Check outdated packages
        working-directory: k_front
        run: npm outdated || true
```

**åŠ¹æœ**:
- PRã”ã¨ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
- é€±æ¬¡ã§ã®å®šæœŸã‚¹ã‚­ãƒ£ãƒ³
- è„†å¼±æ€§ã®æ—©æœŸç™ºè¦‹

**ãƒªã‚¹ã‚¯**: ä½

---

### ãƒ•ã‚§ãƒ¼ã‚º4: Dependabotã®å°å…¥ï¼ˆå·¥æ•°: ç´„30åˆ†ï¼‰

**ç›®çš„**: ä¾å­˜é–¢ä¿‚ã®è‡ªå‹•æ›´æ–°

#### 4.1 `.github/dependabot.yml` ã®ä½œæˆ

```yaml
version: 2
updates:
  # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (k_front)
  - package-ecosystem: "npm"
    directory: "/k_front"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
      timezone: "Asia/Tokyo"
    open-pull-requests-limit: 10
    reviewers:
      - "nto300002"  # GitHubãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’æŒ‡å®š
    labels:
      - "dependencies"
      - "frontend"
    commit-message:
      prefix: "chore(deps)"
      include: "scope"

  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (k_back) - Pythonã®å ´åˆ
  - package-ecosystem: "pip"
    directory: "/k_back"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
      timezone: "Asia/Tokyo"
    open-pull-requests-limit: 10
    reviewers:
      - "nto300002"
    labels:
      - "dependencies"
      - "backend"
    commit-message:
      prefix: "chore(deps)"
      include: "scope"
```

**åŠ¹æœ**:
- æ¯é€±æœˆæ›œæ—¥ã«ä¾å­˜é–¢ä¿‚ã®æ›´æ–°PRãŒè‡ªå‹•ä½œæˆ
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã®è¿…é€Ÿãªé©ç”¨
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆPythonï¼‰ã‚‚åŒæ™‚ã«ç®¡ç†

**ãƒªã‚¹ã‚¯**: ä½ï¼ˆPRã¯æ‰‹å‹•ãƒãƒ¼ã‚¸ãªã®ã§å®‰å…¨ï¼‰

---

### ãƒ•ã‚§ãƒ¼ã‚º5: CI/CDæ”¹å–„ï¼ˆå·¥æ•°: ç´„30åˆ†ï¼‰

**ç›®çš„**: ã‚ˆã‚Šç¢ºå®šçš„ã§å®‰å…¨ãªãƒ“ãƒ«ãƒ‰ç’°å¢ƒ

#### 5.1 æ—¢å­˜ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ç¢ºèªã¨æ”¹å–„

ç¾åœ¨ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ`.github/workflows/cd-backend.yml`ï¼‰ã«åŠ ãˆã¦ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨ã®CI/CDã‚’è¿½åŠ ã™ã‚‹å ´åˆã®æ¨å¥¨äº‹é …:

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: `.github/workflows/ci-frontend.yml`

```yaml
name: CI for Frontend

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
          cache-dependency-path: k_front/package-lock.json

      - name: Install dependencies
        working-directory: k_front
        run: npm ci  # npm install ã§ã¯ãªã npm ci ã‚’ä½¿ç”¨

      - name: Run linter
        working-directory: k_front
        run: npm run lint

      - name: Build application
        working-directory: k_front
        run: npm run build
```

**ãƒã‚¤ãƒ³ãƒˆ**:
- `npm install` â†’ `npm ci` ã«å¤‰æ›´
- `package-lock.json` ã‚’ä½¿ç”¨ã—ãŸç¢ºå®šçš„ãªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- ã‚ˆã‚Šé«˜é€Ÿã§å†ç¾æ€§ã®é«˜ã„ãƒ“ãƒ«ãƒ‰

---

## ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Š
- âœ… ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³æ”»æ’ƒã®ãƒªã‚¹ã‚¯: **80%å‰Šæ¸›**
- âœ… æ—¢çŸ¥ã®è„†å¼±æ€§ã®æ¤œå‡ºé€Ÿåº¦: **é€±æ¬¡ â†’ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ **
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒé©ç”¨é€Ÿåº¦: **æ‰‹å‹• â†’ è‡ªå‹•ï¼ˆé€±æ¬¡PRï¼‰**

### é–‹ç™ºåŠ¹ç‡å‘ä¸Š
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã®è‡ªå‹•åŒ–: **æ‰‹å‹•ä½œæ¥­ã‚¼ãƒ­**
- âœ… ä¾å­˜é–¢ä¿‚ã®æ›´æ–°ç®¡ç†: **è‡ªå‹•PRä½œæˆ**
- âœ… ãƒ“ãƒ«ãƒ‰ã®å†ç¾æ€§: **100%ä¿è¨¼ï¼ˆnpm ciä½¿ç”¨ï¼‰**

### ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ã®è¨¼è·¡: **GitHub Actionsãƒ­ã‚°ã§å®Œå…¨è¨˜éŒ²**
- âœ… è„†å¼±æ€§å¯¾å¿œã®å±¥æ­´: **PRãƒ»Issueã§è¿½è·¡å¯èƒ½**

---

## âš ï¸ æ³¨æ„äº‹é …ã¨ãƒªã‚¹ã‚¯

### æ½œåœ¨çš„ãªãƒªã‚¹ã‚¯

1. **`.npmrc` ã§ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆç„¡åŠ¹åŒ–**
   - **ãƒªã‚¹ã‚¯**: ä¸€éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹å¯èƒ½æ€§
   - **å¯¾ç­–**: ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ–¹å¼ï¼ˆ@lavamoat/allow-scriptsï¼‰ã§è¨±å¯

2. **CI/CDå®Ÿè¡Œæ™‚é–“ã®å¢—åŠ **
   - **ãƒªã‚¹ã‚¯**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³è¿½åŠ ã«ã‚ˆã‚Š5-10åˆ†å¢—åŠ 
   - **å¯¾ç­–**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨ã€ä¸¦åˆ—å®Ÿè¡Œ

3. **Dependabotã®å¤§é‡PR**
   - **ãƒªã‚¹ã‚¯**: æ¯é€±10ä»¶ã®PRãŒä½œæˆã•ã‚Œã‚‹å¯èƒ½æ€§
   - **å¯¾ç­–**: `open-pull-requests-limit: 10` ã§åˆ¶é™æ¸ˆã¿

### æ¨å¥¨ã•ã‚Œã‚‹ç§»è¡Œæˆ¦ç•¥

1. **æ®µéšçš„ãªå°å…¥**
   - ãƒ•ã‚§ãƒ¼ã‚º1ã‹ã‚‰é †æ¬¡å®Ÿæ–½
   - å„ãƒ•ã‚§ãƒ¼ã‚ºã§å‹•ä½œç¢ºèªã—ã¦ã‹ã‚‰æ¬¡ã¸

2. **é–‹ç™ºç’°å¢ƒã§ã®äº‹å‰ãƒ†ã‚¹ãƒˆ**
   - æœ¬ç•ªé©ç”¨å‰ã«ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§æ¤œè¨¼
   - ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª

3. **ãƒãƒ¼ãƒ å‘¨çŸ¥**
   - æ–°ã—ã„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®èª¬æ˜
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯å¤±æ•—æ™‚ã®å¯¾å¿œæ–¹æ³•

---

## ğŸ“Š å®Ÿè£…å„ªå…ˆåº¦ãƒãƒˆãƒªã‚¯ã‚¹

### ä»Šã™ãå®Ÿæ–½ã™ã¹ãï¼ˆå·¥æ•°: 1æ™‚é–“ä»¥å†…ï¼‰

| ã‚¿ã‚¹ã‚¯ | å·¥æ•° | ãƒªã‚¹ã‚¯ | åŠ¹æœ |
|--------|------|--------|------|
| `.npmrc` ä½œæˆ | 5åˆ† | ä½ | é«˜ |
| `package.json` ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ  | 10åˆ† | ãªã— | ä¸­ |
| OSV-Scanner ãƒ­ãƒ¼ã‚«ãƒ«å°å…¥ | 15åˆ† | ãªã— | ä¸­ |

### 1é€±é–“ä»¥å†…ã«å®Ÿæ–½ã™ã¹ã

| ã‚¿ã‚¹ã‚¯ | å·¥æ•° | ãƒªã‚¹ã‚¯ | åŠ¹æœ |
|--------|------|--------|------|
| ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ–¹å¼å°å…¥ | 30åˆ† | ä¸­ | é«˜ |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆ | 1æ™‚é–“ | ä½ | é«˜ |
| Dependabotè¨­å®š | 30åˆ† | ä½ | é«˜ |

### 1ãƒ¶æœˆä»¥å†…ã«å®Ÿæ–½ã™ã¹ã

| ã‚¿ã‚¹ã‚¯ | å·¥æ•° | ãƒªã‚¹ã‚¯ | åŠ¹æœ |
|--------|------|--------|------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰CI/CDæ§‹ç¯‰ | 2æ™‚é–“ | ä¸­ | ä¸­ |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼æ–‡æ›¸åŒ– | 1æ™‚é–“ | ãªã— | ä½ |

---

## ğŸ” èª¿æŸ»çµæœè©³ç´°

### ç¾åœ¨ã®ç’°å¢ƒ

```
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ :
â”œâ”€â”€ k_front/          # Next.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ package.json  # Next.js 15.4.8ï¼ˆå®‰å…¨ï¼‰
â”‚   â”œâ”€â”€ package-lock.json  # âœ… å­˜åœ¨
â”‚   â””â”€â”€ .npmrc        # âŒ å­˜åœ¨ã—ãªã„
â”œâ”€â”€ k_back/           # Python ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â””â”€â”€ .github/
    â””â”€â”€ workflows/
        â””â”€â”€ cd-backend.yml  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿
```

### npm audit çµæœ

```json
{
  "vulnerabilities": {
    "info": 0,
    "low": 0,
    "moderate": 0,
    "high": 0,
    "critical": 0,
    "total": 0
  },
  "dependencies": {
    "prod": 86,
    "dev": 339,
    "optional": 81,
    "total": 460
  }
}
```

**çµè«–**: ç¾æ™‚ç‚¹ã§è„†å¼±æ€§ãªã—

### Next.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª

- **ç¾åœ¨**: 15.4.8
- **CVE-2025-66478 ä¿®æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 15.4.8 âœ…
- **çµè«–**: ãƒ‘ãƒƒãƒé©ç”¨æ¸ˆã¿ã€å®‰å…¨

---

## ğŸ“ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ 

### å³åº§ã«å®Ÿæ–½

- [ ] `.npmrc` ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
- [ ] `package.json` ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ 
- [ ] OSV-Scannerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ä»Šé€±ä¸­ã«å®Ÿæ–½

- [ ] @lavamoat/allow-scripts ã®å°å…¥
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä½œæˆ
- [ ] Dependabotè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

### ä»Šæœˆä¸­ã«å®Ÿæ–½

- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ§‹ç¯‰
- [ ] å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç¢ºç«‹
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼ã®æ–‡æ›¸åŒ–

---

## ğŸ“š å‚è€ƒæƒ…å ±

### ä½¿ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«

1. **OSV-Scanner** (Googleæä¾›)
   - ç„¡æ–™ã€é«˜é€Ÿ
   - å…¬å¼è„†å¼±æ€§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½¿ç”¨

2. **@lavamoat/allow-scripts**
   - ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆæ–¹å¼
   - MetaMaskãƒãƒ¼ãƒ ãŒé–‹ç™º

3. **Dependabot** (GitHubæ¨™æº–)
   - ç„¡æ–™
   - è‡ªå‹•PRä½œæˆ

### å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

- [npm Security Best Practices](https://docs.npmjs.com/security)
- [GitHub Dependabot Documentation](https://docs.github.com/en/code-security/dependabot)
- [OSV-Scanner Documentation](https://github.com/google/osv-scanner)

---

**ãƒ¬ãƒãƒ¼ãƒˆä½œæˆæ—¥**: 2025-12-10
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼äºˆå®š**: å®Ÿè£…å®Œäº†å¾Œ1é€±é–“
